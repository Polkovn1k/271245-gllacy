var modalLink=document.querySelector(".button--map"),modalWrapper=document.querySelector(".modal"),modal=document.querySelector(".modal__container"),modalClose=document.querySelector(".modal__form-close"),form=modalWrapper.querySelector("form"),login=modalWrapper.querySelector(".modal__form-name input"),mail=modalWrapper.querySelector(".modal__form-mail input"),storage=localStorage.getItem("login");modalLink.addEventListener("click",function(o){o.preventDefault(),modalWrapper.classList.add("modal--show"),storage?(login.value=storage,mail.focus()):login.focus()}),modalClose.addEventListener("click",function(o){o.preventDefault(),modalWrapper.classList.remove("modal--show"),modal.classList.remove("modal__container--error")}),form.addEventListener("submit",function(o){login.value&&mail.value?localStorage.setItem("login",login.value):(o.preventDefault(),modal.classList.remove("modal__container--error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal__container--error"))}),window.addEventListener("keydown",function(o){27===o.keyCode&&modalWrapper.classList.contains("modal--show")&&(modalWrapper.classList.remove("modal--show"),modal.classList.remove("modal__container--error"))});
